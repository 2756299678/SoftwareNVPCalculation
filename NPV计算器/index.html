<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" src="js/jquery-2.0.0.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
      	
      	function cuculate(){
      	 	
      	 	var all=document.getElementById("all").value;
      	 	var firstyear=document.getElementById("firstyear").value;
      	 	var secondyear=document.getElementById("secondyear").value;
      	 	var thridyear=document.getElementById("thirdyear").value;
      	 	var fouthyear=document.getElementById("fouthyear").value;
      	 	var fivethyear=document.getElementById("fivethyear").value;
      	 	var panduan=document.getElementById("rate").value;
      	 	var rate=0;
      	 	if(panduan==0.1)
      	 	{
      	 		rate=0.12;
      	 	}
      	 	else{
      	 		rate=0.08;
      	 	}
      	 	
      	 	
      	 	
      	 	var i1=0;
      	 	i1=1.0/(1+rate);
      	 	var i2=0;
      	 	i2=i1/(1+rate);
      	 	var i3=0;
      	 	i3=i2/(1+rate);
      	 	var i4=0;
      	 	i4=i3/(1+rate);
      	 	var i5=0;
      	 	i5=i4/(1+rate);
      	 	
      	 	var nvp1=firstyear*i1;
      	 	var nvp2=secondyear*i2;
      	 	var nvp3=thridyear*i3;
      	 	var nvp4=fouthyear*i4;
      	 	var nvp5=fivethyear*i5;
      	 	
      	 	var nvpall=nvp1+nvp2+nvp3+nvp4+nvp5-all;
      	 	
      	 	//检测是否为空
      	 	if(all.length==0||firstyear.length==0||secondyear.length==0||thridyear.length==0||fouthyear.length==0||fivethyear.length==0)
      	 	{
      	 		mui.alert("输入项不能为空，请检查后输入","提示","确定");
      	 	}
		    else if(isNaN(all)||isNaN(firstyear)||isNaN(secondyear)||isNaN(thridyear)||isNaN(fouthyear)||isNaN(fivethyear)){
		        mui.alert("输入项必须为数字，请检查后输入","提示","确定")
		    }else{
		    	$("#jilu").append("<p>记录&nbsp;&nbsp;&nbsp;NVP:"+nvpall.toFixed(2)+"</p>");//将获取到的信息输出到页面
		        mui.alert("贴现率为"+rate+"时，此项目的净现值为："+nvpall.toFixed(2)+"每一年的贴现因子为"+i1+"，"+i2+"，"+i3+"，"+i4+"，"+i5+"，","结果","确定");
		    }

      	 	
      	 }
    </script>
</head>
<body>
	
	<header class="mui-bar mui-bar-nav">
	    <h1 class="mui-title">NPV计算器</h1>
	    <a href="index.html">&nbsp;&nbsp;<span class="mui-icon mui-icon-reload"></span></a>
	</header>
	<div class="mui-content" style="margin-bottom: -40px;">
	    <img src="images/nvp.png"/ width="100%">
	</div>
	<div class="mui-content">
	    <form class="mui-input-group">
	    
	    <div class="mui-input-row">
	    	
	        <label style="width: 50%;">项目总投入：</label>
	        
	        <input type="text" class="mui-input-clear" placeholder="总投入" id="all" style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	       <label style="width: 50%;" >第一年利润：</label>
	        <input type="text" class="mui-input-clear" placeholder="第一年利润" id="firstyear" style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	        <label style="width: 50%;">第二年利润：</label>
	        <input type="text" class="mui-input-clear" placeholder="第二年利润" id="secondyear"style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	        <label style="width: 50%;">第三年利润：</label>
	        <input type="text" class="mui-input-clear" placeholder="第三年利润" id="thirdyear" style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	        <label style="width: 50%;" >第四年利润：</label>
	        <input type="text" class="mui-input-clear" placeholder="第四年利润" id="fouthyear" style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	        <label style="width: 50%;">第五年利润：</label>
	        <input type="text" class="mui-input-clear" placeholder="第五年利润" id="fivethyear"style="width: 50%;">
	    </div>
	    <div class="mui-input-row">
	        <label>净现率：</label>
	        <select class="mui-input-clear" placeholder="净现率" id="rate">
			  <option value ="0.08">8%</option>
			  <option value ="0.1">12%</option>
			</select>
	    </div>
	    
	</form>
	<button type="button" class="mui-btn mui-btn-blue mui-btn-block" onclick="cuculate()">计算NPV</button>
	</div>
	
	<div class="mui-content" style ="margin-top: -45px;" id="jilu">
		
	    <!--<p>记录&nbsp;&nbsp;&nbsp;NVP:20000</p>-->
	    
	</div>
</body>
</html>